---
interface Props {
  imageSrc: string;
}

const { imageSrc } = Astro.props;
---

<div
  class="relative flex flex-col items-center justify-center min-h-[calc(100vh-6rem)] pt-12 md:pt-0"
  data-about-hero-root
>
  <div class="flex flex-col lg:flex-row gap-8 items-center px-4">
    <div class="flex flex-col items-center lg:items-start text-center lg:text-left">
      <h1 class="text-5xl font-black">What is SSA at UCSD?</h1>
      <h2 class="mt-5 text-2xl font-bold max-w-2xl text-primary">
        {
          "We are the Symphonic Student Association at the University of California, San Diego!"
        }
        <br />
        <br />
        {
          "We are UCSD's largest and most inclusive student-run classical music-oriented organization, for anyone interested in classical music, regardless of major or skill level."
        }
      </h2>
    </div>
    <img
      src={imageSrc}
      alt="SSA at UCSD"
      width={600}
      height={400}
      class="w-full max-w-[600px] h-auto object-cover rounded-xl shadow-2xl"
    />
  </div>
  <button
    type="button"
    class="absolute bottom-8 transition-opacity duration-300 cursor-pointer opacity-100"
    aria-label="Scroll to mission"
    data-scroll-indicator
    data-scroll-target="mission"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="w-6 h-6 animate-bounce"
    >
      <path d="m6 9 6 6 6-6" />
    </svg>
  </button>
</div>

<script is:inline>
  (() => {
    const root = document.querySelector("[data-about-hero-root]");
    if (!root) {
      return;
    }

    const indicator = root.querySelector("[data-scroll-indicator]");
    if (!indicator) {
      return;
    }

    const handleScroll = () => {
      indicator.classList.toggle("opacity-0", window.scrollY > 100);
      indicator.classList.toggle("opacity-100", window.scrollY <= 100);
    };

    handleScroll();
    window.addEventListener("scroll", handleScroll, { passive: true });

    indicator.addEventListener("click", () => {
      const targetId = indicator.getAttribute("data-scroll-target");
      if (!targetId) {
        return;
      }

      document.getElementById(targetId)?.scrollIntoView({ behavior: "smooth" });
    });
  })();
</script>
