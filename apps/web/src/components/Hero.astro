---
interface Props {
  imageSrc: string;
}

const { imageSrc } = Astro.props;
---

<div
  class="relative flex flex-col items-center justify-center min-h-[calc(100vh-6rem)]"
  data-hero-root
>
  <div class="flex flex-col md:flex-row gap-8 items-center px-4">
    <div class="flex flex-col items-center md:items-start text-center md:text-left">
      <span class="text-base bg-primary text-primary-foreground px-3 py-2 rounded-full mb-4 mt-8 md:mt-0 flex items-center gap-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="w-5 h-5"
        >
          <path d="M12 3l1.9 3.9L18 9l-3.1 3 1 4.1L12 14l-3.9 2.1 1-4.1L6 9l4.1-2.1z" />
        </svg>
        Est. 2018
      </span>
      <h1 class="text-5xl font-black">
        SSA <br /> at <br /> UCSD
      </h1>
      <h2 class="mt-5 text-2xl font-bold max-w-2xs text-primary">
        {"We are UCSD's largest student-run classical music-oriented organization."}
      </h2>
      <div class="mt-5 flex gap-2">
        <a
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-xl p-5 bg-primary text-primary-foreground hover:bg-primary/90 transition-all"
          target="_blank"
          href="https://members.ssaucsd.org"
          rel="noopener noreferrer"
        >
          Join us
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="w-5 h-5"
          >
            <path d="M5 12h14" />
            <path d="m12 5 7 7-7 7" />
          </svg>
        </a>
        <a
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-xl p-5 border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground transition-all"
          href="#contact"
        >
          Contact
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="w-5 h-5"
          >
            <path d="M5 12h14" />
            <path d="m12 5 7 7-7 7" />
          </svg>
        </a>
      </div>
    </div>
    <img
      src={imageSrc}
      alt="SSA at UCSD"
      width={600}
      height={400}
      class="w-full max-w-[600px] h-auto object-cover rounded-xl shadow-2xl"
    />
  </div>
  <button
    type="button"
    class="absolute bottom-8 transition-opacity duration-300 cursor-pointer opacity-100"
    aria-label="Scroll to initiatives"
    data-scroll-indicator
    data-scroll-target="initiatives"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="w-6 h-6 animate-bounce"
    >
      <path d="m6 9 6 6 6-6" />
    </svg>
  </button>
</div>

<script is:inline>
  (() => {
    const root = document.querySelector("[data-hero-root]");
    if (!root) {
      return;
    }

    const indicator = root.querySelector("[data-scroll-indicator]");
    if (!indicator) {
      return;
    }

    const handleScroll = () => {
      indicator.classList.toggle("opacity-0", window.scrollY > 100);
      indicator.classList.toggle("opacity-100", window.scrollY <= 100);
    };

    handleScroll();
    window.addEventListener("scroll", handleScroll, { passive: true });

    indicator.addEventListener("click", () => {
      const targetId = indicator.getAttribute("data-scroll-target");
      if (!targetId) {
        return;
      }

      document.getElementById(targetId)?.scrollIntoView({ behavior: "smooth" });
    });
  })();
</script>
